import { ELIG } from '@dvsa/ftts-eligibility-api-model';
import {
  Target,
  Language,
  PreferredDay,
  PreferredLocation,
  SupportType,
  TCNRegion,
  TestType,
} from '../../../src/domain/enums';
import { TestVoiceover } from '../../../src/domain/test-voiceover';
import { CRMVoiceOver } from '../../../src/services/crm-gateway/enums';
import { Booking, Candidate } from '../../../src/services/session';

const mockSessionBooking = (accountId?: string): Booking => ({
  bookingId: 'mockBookingId',
  bookingProductId: 'mockBookingProductId',
  bookingRef: 'mockBookingRef',
  bsl: false,
  testType: TestType.CAR,
  centre: {
    name: 'Birmingham',
    parentOrganisation: 'c5a24e76-1c5d-ea11-a811-000d3a7f128d',
    status: 'ACTIVE',
    region: TCNRegion.A,
    state: 'gb',
    siteId: 'SITE-0135',
    description: 'Est et quo similique ullam ut esse facere atque saepe. Et expedita vero sapiente quod eum ea voluptatem impedit est.',
    accessible: 'Disabled access',
    fullyAccessible: false,
    addressLine1: '38 Dale End',
    addressLine2: 'Deritend',
    addressCity: 'Birmingham',
    addressCounty: 'West Midlands',
    addressPostalCode: 'B4 7NJ',
    addressCountryRegion: 'West Midlands United Kingdom',
    latitude: 52.48213,
    longitude: -1.89219,
    distance: 0.29407376676936053,
    accountId: accountId || '03f6a7c8-937d-ea11-a811-00224801bc51',
    remit: 675030000,
  },
  dateTime: '2020-12-30T10:00:00Z',
  language: Language.ENGLISH,
  salesReference: 'mockSalesRef',
  receiptReference: 'mockReceiptRef',
  reservationId: 'mockReservationId',
  voiceover: TestVoiceover.fromCRMVoiceover(CRMVoiceOver.English),
  lastRefundDate: '2020-12-30T10:00:00Z',
  translator: undefined,
  customSupport: undefined,
  selectSupportType: [],
  voicemail: false,
  preferredDayOption: undefined,
  preferredDay: undefined,
  preferredLocationOption: undefined,
  preferredLocation: undefined,
  governmentAgency: Target.GB,
  eligibility: {
    testType: TestType.CAR,
    eligible: true,
    eligibleFrom: '2020-01-01',
    eligibleTo: '2030-01-01',
  },
  firstSelectedDate: '2020-12-30T10:00:00.000Z',
  dateAvailableOnOrAfterToday: '2020-12-29T10:00:00.000Z',
  dateAvailableOnOrBeforePreferredDate: '2020-12-28T10:00:00.000Z',
  dateAvailableOnOrAfterPreferredDate: '2020-12-27T10:00:00.000Z',
});

const mockSessionNsaBooking = (): Booking => ({
  bookingId: 'mockBookingId',
  bookingProductId: 'mockBookingProductId',
  bookingRef: 'mockBookingRef',
  bsl: false,
  testType: TestType.CAR,
  centre: {
    name: 'Birmingham',
    parentOrganisation: 'c5a24e76-1c5d-ea11-a811-000d3a7f128d',
    status: 'ACTIVE',
    region: TCNRegion.A,
    state: 'gb',
    siteId: 'SITE-0135',
    description: 'Est et quo similique ullam ut esse facere atque saepe. Et expedita vero sapiente quod eum ea voluptatem impedit est.',
    accessible: 'Disabled access',
    fullyAccessible: false,
    addressLine1: '38 Dale End',
    addressLine2: 'Deritend',
    addressCity: 'Birmingham',
    addressCounty: 'West Midlands',
    addressPostalCode: 'B4 7NJ',
    addressCountryRegion: 'West Midlands United Kingdom',
    latitude: 52.48213,
    longitude: -1.89219,
    distance: 0.29407376676936053,
    accountId: '03f6a7c8-937d-ea11-a811-00224801bc51',
    remit: 675030000,
  },
  dateTime: '2020-12-30T10:00:00Z',
  language: Language.ENGLISH,
  salesReference: 'mockSalesRef',
  receiptReference: 'mockReceiptRef',
  reservationId: 'mockReservationId',
  voiceover: TestVoiceover.fromCRMVoiceover(CRMVoiceOver.English),
  lastRefundDate: '2020-12-30T10:00:00Z',
  translator: undefined,
  customSupport: 'The support I would like is...',
  selectSupportType: Object.values(SupportType).filter((value) => value.toLowerCase() !== 'translator'),
  voicemail: true,
  preferredDayOption: PreferredDay.ParticularDay,
  preferredDay: 'I would like Monday\'s please',
  preferredLocationOption: PreferredLocation.ParticularLocation,
  preferredLocation: 'I would like Dudley test centre please',
  firstSelectedCentre: {
    name: 'Birmingham',
    parentOrganisation: 'c5a24e76-1c5d-ea11-a811-000d3a7f128d',
    status: 'ACTIVE',
    region: TCNRegion.A,
    state: 'gb',
    siteId: 'SITE-0135',
    description: 'Est et quo similique ullam ut esse facere atque saepe. Et expedita vero sapiente quod eum ea voluptatem impedit est.',
    accessible: 'Disabled access',
    fullyAccessible: false,
    addressLine1: '38 Dale End',
    addressLine2: 'Deritend',
    addressCity: 'Birmingham',
    addressCounty: 'West Midlands',
    addressPostalCode: 'B4 7NJ',
    addressCountryRegion: 'West Midlands United Kingdom',
    latitude: 52.48213,
    longitude: -1.89219,
    distance: 0.29407376676936053,
    accountId: '03f6a7c8-937d-ea11-a811-00224801bc51',
    remit: 675030000,
  },
  hasSupportNeedsInCRM: false,
  firstSelectedDate: '2020-01-02',
  governmentAgency: Target.GB,
  eligibility: {
    testType: TestType.CAR,
    eligible: true,
    eligibleFrom: '2020-01-01',
    eligibleTo: '2030-01-01',
  },
});

const mockSessionCandidate = (): Candidate => ({
  title: 'Dr',
  firstnames: 'mockFirstname',
  surname: 'mockSurname',
  gender: ELIG.CandidateDetails.GenderEnum.M,
  dateOfBirth: '1990-12-30',
  licenceNumber: 'mockLicenceNumber',
  licenceId: 'mockLicenceId',
  email: 'mockEmail@test.com',
  candidateId: 'mockCandidateId',
  personReference: 'mockPersonReference',
  telephone: '+44 12334678891',
  address: {
    line1: 'mockLine1',
    line2: 'mockLine2',
    line3: 'mockLine3',
    line4: 'mockLine4',
    line5: 'mockLine5',
    postcode: 'mockPostcode',
  },
  eligibilities: [
    {
      testType: TestType.CAR,
      eligible: true,
      eligibleFrom: '2020-01-01',
      eligibleTo: '2030-01-01',
    },
  ],
  eligibleToBookOnline: true,
  behaviouralMarker: false,
  behaviouralMarkerExpiryDate: undefined,
  personalReferenceNumber: '325825',
  paymentReceiptNumber: '5134567890123456',
});

export {
  mockSessionBooking,
  mockSessionNsaBooking,
  mockSessionCandidate,
};
